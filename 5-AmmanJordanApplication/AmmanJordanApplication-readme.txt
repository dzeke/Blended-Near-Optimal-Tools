AmmanJordanApplication-readme.txt

The AmmanJordanApplication folder contains the data, model, and script files used for the mixed-integer water supply/demand management application for Amman, Jordan that illustrates use of the integer enumeration, visualization, and interaction tools. This application is presented in:

Rosenberg, D. E. (2012), Near-optimal water management to improve multi-objective decision making, paper presented at 2012 International Congress on Environmental Modelling and Software: Managing Resources of a Limited Planet: Pathways and Visions under Uncertainty, International Environmental Modelling and Software Society, Leipzig, Germany. http://www.iemss.org/sites/iemss2012//proceedings/A2_0656_Rosenberg.pdf.

Download all the files in this folder as well as in the in the InteractiveParallelPlot folder. Use the files in this folder as follows:

- LoadAmmanJordan.m : A matlab script and function that loads results from a specified General Algebraic Modeling System (GAMS) gdx file and shows the results in the interactive parallel coordinate plotting tool. At the Matlab prompt, enter the command:

	>> LoadAmmanJordan('AmmanJordanOptNear.gdx')

to load and show the optimal solution and 4,900 near-optimal alternatives generated by the integer enumeration algorithm. The result generates Figure 4 in the conference proceedings paper with a few formatting changes (optimal solution shown in thick black, checkboxes for axes and control panel at right shown). The enumeration alogirthm identified the first and last three decision variables (boxes checked for Zai plant expansion, Targeted conservation program, Re-price water, Red-Dead project, Disi conveyor, and Reuse wastewater) as constant across the near-optimal region. The actions Purchase tanker trucks and New local surface water are also checked because both actions have large integer ranges but very small effectiveness; fixing these actions at their optimal solution values reduced the problem size and time required to generate AmmanJordanUtilOptNear.gdx. Additionally, the 4,900 generated near-optimal alternatives are larger than the 2,200 alternatives reported in the original manuscript because the new results do not fix the decision to offer Rebates for drip irrigaiton systems.

Once the plot opens, click the Interact Tab, and use the axis check boxes, filtering, and generate tools to further explore the near-optimal region and generate/highlight alternatives within it. For example, uncheck Purchase tanker trucks and New local surface water, and then click the Generate button to generate near-optimal alternatives that include these actions at each and every level between their minimum and maximal values (caution: generation will take several hours).

Add an optional second parameter to specify the number of alternatives read from the gdx file. e.g.:

	>> LoadAmmanJordan('AmmanJordanOptNear.gdx',500)

will read the first 500 alternatives in the gdx file.


- AmmanJordanOptNear.gdx : GAMS data file generated by AmmanJordanOptNear.gms with all the model input data and model results for the optimal solution, maximal extents for each of the 18 long-term integer decision varaibles, and some 4,900 near-optimal alternatives generated by the integer enumeration alogirthm.

- AmmanJordanOptNear.gms : a GAMS file that reads in results from AmmanJordanUtilOpt.gdx and uses the model data and optimal solution to define the near-optimal model and (i) solve for the optimal solution, (ii) identify maximum extents for each decision variable, and (iii) enumerate all near-optimal alternatives. Results are written to the file AmmanJordanOptNear.gdx. See comments in the header and citations within for a further description of the enumeration algorithm. Runtime is ~ 1 hour. Preprocessed output is provided as AmmanJordanOptNear.gdx.

- AmmanJordanUtilOptNearInt.gms : a GAMS file that has the same functionality as AmmanJordanUtilOptNear.gms (above) except that the user can additionally specify input including the near-optimal tolerance value, decision variables to fix, fixed values for those decision variables, and the type of generation. The generation options are:

   - One alternative [optimal solution given fixed values for fixed decision variables],
   - Maximum extents [bounding minimum and maximum values for each unchecked decision variable], or
   - Enumerate all [all interger alternatives using the enumeration algorithm]

See comments in the file header for the GAMS parameters to set. Alternatively, the user can interactively specify inputs in the Interactive Parallel Plotting tool by clicking the Interact Tab, entering the near-optimal tolerance value, checking check boxes for axes, specifying set values, selecting the Generate type, selecting GAMS as the generation engine, entering the GAMS file as 'AmmanJordanOptNearInt.gms', and clicking the Generate button. The tool writes the interactive inputs to the file matdata2.gdx which GAMS then reads. After running, GAMS dumps results to the file matsol.gdx which are then read back into the Interaltive Parallel Plotting tool.

- AmmanJordanUtilOpt.gms : a General Algebraic Modeling System (GAMS) file that has all the input data and model equations that define the original deterministic-equivalent formulation of the two-stage shortage management problem for Amman, Jordan. The GAMS file reads model inputs from file AmmanJordanUtilData.gdx, solves for the optimal solution, and outputs results to the file AmmanJordanUtilOpt.gdx. See comments in the header and citations within for a further description.

- AmmanJordanUtilData.gdx : a GAMS data file with all the model input data.

